 <% include ./partials/header.ejs %>
 <link rel="stylesheet" href="stylesheets/style.css">
 <h1>Ragistation Form</h1>
  <form action="/register" method="post">
    <input id="usernameinp" type="text" name="username" placeholder="username">
    <input type="email" name="email" placeholder="email">
  
    <input type="password" name="password" placeholder="password">
    <input id="submitinp" type="submit">
  </form>
  <h1>Login Form</h1>
  <form action="/login" method="post">
    <input type="text" name="username" placeholder="username">
    <input type="password" name="password" placeholder="password">
    <input type="submit" >
  </form>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js" integrity="sha512-uMtXmF28A2Ab/JJO2t/vYhlaa/3ahUOgj1Zf27M5rOo8/+fcTUVH0/E0ll68njmjrLqOBjXM3V9NiPFL5ywWPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
var inp= document.querySelector("#usernameinp")
inp.addEventListener("input",function(){
  if(inp.value.trim().length>0){
    axios.get(`/username/${inp.value}`)
  .then(function(data){
  if(data.data.found){
      inp.style.outlineColor="red"
      document.querySelector("#submitinp").setAttribute("disabled" ,true)
    }
    else{
      inp.style.outlineColor="black"
      document.querySelector("#submitinp").removeAttribute("disabled")
    }
   })

  }
  else{
    inp.style.outlineColor="black"
  }
  
})
  </script>
  <% include ./partials/footer.ejs %>
